# 🎮 顶级射击游戏 - 完整玩法介绍

## 📖 游戏概述

这是一款**顶视角 2D 射击游戏**，融合了**走位躲避**、**精准射击**、**战术升级**和**队友协作**等多种玩法元素。您将控制一个蓝色三角形角色，在屏幕上不断涌入的红色敌人中存活并获得高分。

---

## 🎯 基础操作

### 控制方式

| 操作 | 按键 | 功能 |
|------|------|------|
| **移动** | ↑↓←→ 方向键 | 8 个方向控制角色移动 |
| **射击** | 鼠标左键 | 朝鼠标位置方向发射子弹 |
| **暂停** | 右键 | 冻结敌人和子弹（玩家仍可操作） |
| **确认** | Enter | 开始游戏 / 重新开始 |
| **退出** | ESC | 退出游戏 |

### 玩家角色（蓝色三角形）
- 初始生命值：**3 条命**
- 初始位置：屏幕中央
- 最大移动速度：基础速度的 **2 倍**（连续移动时逐渐加速）

---

## 👾 敌人系统

### 敌人类型：红色圆形
- 从屏幕四个边缘随机生成
- 自动追踪玩家位置
- 与玩家碰撞时扣除 1 条生命值，并**击杀屏幕上所有敌人**

### 敌人行为

#### 1. **标准追踪**
- 敌人直线追踪玩家
- 难度越高移动速度越快

#### 2. **闪避机制** 🤡
- **闪避概率**（根据难度）：
  - 难度 1：40% 概率闪避
  - 难度 2：20% 概率闪避
  - 难度 3：10% 概率闪避
  - 难度 4+：无法闪避
  
- 闪避时敌人**变身小丑**（彩色小丑头像），快速横向闪开
- 闪避持续 0.3 秒

#### 3. **随机摇摆运动**（难度 2+）
- 敌人不走直线，沿着玩家方向左右摇摆
- 难度越高摇摆越剧烈

---

## 🎯 射击与击杀

### 玩家射击
- 按住**鼠标左键**朝鼠标位置射出子弹
- 子弹呈**黄色圆形**，直线运动至屏幕外消失

### 多弹道系统
根据游戏难度，可同时发射**多条子弹轨迹**：
- **难度 1-1**：1 条直线轨迹
- **难度 2-3**：2 条轨迹（前后方向）
- **难度 4-5**：3 条轨迹（扇形分散）
- **难度 6+**：4+ 条轨迹

### 击杀敌人
- **未闪避过的敌人**被击中 → 直接进入**死亡淡出**（60 帧内逐渐消失）
- **闪避过的敌人**被击中 → 转变为**小跟班**（见下文）
- 每击杀敌人获得：**10 分**

### 子弹反弹系统
- **初始状态**：子弹无法反弹，碰到墙壁直接消失
- **第 1 次死亡后**：子弹可**反弹 1 次**（碰墙后改变方向继续飞行）
- **第 2 次死亡后**：子弹可**反弹 2 次**
- 以此类推...

**反弹规则**：
- 碰左右边界 → 水平速度反向
- 碰上下边界 → 垂直速度反向
- 反弹次数用尽后，子弹消失

---

## 🤖 小跟班系统（新玩法！）

### 小跟班获得条件
1. 敌人首次被击中时有概率进行**闪避**
2. 闪避敌人的下一次被击中 → **转变为小跟班**
3. 小跟班永远保留，直到游戏结束（最多三个）

### 小跟班特性
- **外观**：小丑头像（与闪避敌人相同）
- **位置**：紧密跟随玩家，沿着玩家的**历史路径行走**
- **队伍排列**：
  - 第 1 个小跟班距离玩家 60 像素
  - 第 2 个小跟班距离玩家 120 像素
  - 第 N 个小跟班距离玩家 `60 × N` 像素
  - 形成自然的**"弯弯绕绕"的队伍**

### 小跟班的作用
- **自动射击**：每 60 帧（1 秒）发射一颗**浅蓝色子弹**
- **伤害敌人**：小跟班的子弹可击伤敌人，获得加分
- **不伤玩家**：小跟班的子弹**对玩家完全无伤害**
- **增强火力**：小跟班数量越多，总体火力越强

### 小跟班示例
```
玩家 ← 60px ← 小跟班1 ← 60px ← 小跟班2 ← 60px ← 小跟班3
```

---

## 📊 难度系统

### 难度递进机制
- 每获得 **500 分**，难度提升 1 级
- 难度影响以下因素：

| 难度等级 | 敌人生成速度 | 敌人移动速度 | 闪避概率 | 弹道数 |
|--------|----------|----------|--------|-------|
| 1 | 2.0 秒 | 2.0 | 40% | 1 |
| 2 | 1.8 秒 | 2.5 | 20% | 2 |
| 3 | 1.6 秒 | 3.0 | 10% | 2 |
| 4 | 1.4 秒 | 3.5 | 0% | 3 |
| 5 | 1.2 秒 | 4.0 | 0% | 3 |

---

## 💓 生命值系统

### 损失生命的情况
1. **与敌人碰撞**：敌人撞到玩家 → 玩家失去 1 条命
2. 所有敌人**立即全部被击杀**（带有血溅效果）

### 生命值显示
- 屏幕**右上角**显示 **❤️ 心形指示器**
- 红色心：剩余命数
- 黑色心：已失去的命数（最多 3 个）

### 游戏结束
- 生命值降至 0 → 屏幕变红 → 显示最终得分 → **可按 R 重新开始**

---

## 🎮 高级玩法

### 连击系统（Combo）
- 一次射击**全部子弹都击中敌人** → 增加连击计数
- 任何一颗子弹**未击中** → 连击中断，重置为 0
- **连击 2+** 时在玩家上方显示 **"X2"、"X3"** 等标记
- **颜色变化**：
  - X2：黄色
  - X3：橙色
  - X4+：红色
- 动画效果：逐帧缩放（1.6 → 1.0）并淡出

### 暂停/冻结模式
- **右键**切换冻结状态
- 敌人和子弹**完全静止**
- 玩家仍可自由移动和射击
- 提示文字显示在屏幕顶部：**"PAUSED"**

### 移动加速系统
- **连续按住方向键** → 玩家逐帧加速
- 加速从基础速度 (5px/frame) 到最大速度 (10px/frame)
- 停止移动 → 速度重置为基础速度
- 产生**"冲刺"的感觉**

---

## 📈 计分系统

| 事件 | 得分 |
|------|------|
| 击杀普通敌人 | +10 分 |
| 击杀（通过小跟班） | +10 分 |
| 击杀（通过子弹反弹） | +10 分 |

### 最高分记录
- 游戏自动保存**历史最高得分**到 `highscore.json`
- 新游戏开始时显示最高分
- 超越最高分时自动更新

---

## 🎨 视觉效果

### 敌人死亡效果
- **血溅粒子**：20 个红色小球喷溅出来
- **重力效应**：粒子逐帧下落
- **淡出**：粒子逐渐透明消失（约 60 帧）

### 敌人闪避效果
- 敌人替换为**彩色小丑头像**
- 小丑包含：皮肤色脸部、彩色头发、眼睛、红鼻子、嘴巴
- 闪避后恢复为红色圆形

### 游戏界面
- **HUD（左上角）**：显示当前分数、难度等级、弹道数
- **心形血量（右上角）**：直观显示剩余生命
- **连击显示（玩家上方）**：实时显示连击倍数和颜色

---

## 🏆 游戏目标

### 主要目标
1. **存活尽可能长时间** → 获得高分
2. **收集小跟班** → 建立自己的"小丑军团"
3. **突破难度极限** → 挑战更强的敌人
4. **打破最高记录** → 超越历史最高分

### 进阶挑战
- 极限躲避：用最少的空间躲过敌人轰炸
- 精准射击：连击 10+ 次
- 小跟班大军：收集 5+ 个小跟班
- 反弹击杀：使用子弹反弹击中敌人

---

## ⚙️ 游戏设置

- **分辨率**：1024 × 768 像素
- **帧率**：60 FPS
- **玩家初始位置**：屏幕中央 (512, 384)
- **初始生命值**：3 条命
- **难度分数阈值**：每 500 分提升 1 级

---

## 💡 新手建议

1. **快速躲避**：敌人过多时保持不停移动
2. **提前射击**：鼠标要领先敌人位置
3. **收集小跟班**：小跟班是强大的助手，尽量多收集
4. **利用暂停**：困境时按右键暂停思考
5. **观察反弹**：死亡后子弹能反弹，充分利用这个优势
6. **连击加成**：虽然连击只是视觉反馈，但反映射击精准度

---

## 🎯 总结

这是一款**融合策略、反应力和视觉反馈**的射击游戏。通过不断躲避敌人、精准射击、收集小跟班，您将逐步建立自己的"战斗团队"。难度逐级提升，游戏节奏越来越快，体验**从容到紧张**的完整过程。

祝您游戏愉快！🎮✨
